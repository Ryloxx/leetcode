/*
 * @lc app=leetcode id=950 lang=rust
 *
 * [950] Reveal Cards In Increasing Order
 *
 * https://leetcode.com/problems/reveal-cards-in-increasing-order/description/
 *
 * algorithms
 * Medium (77.94%)
 * Likes:    3205
 * Dislikes: 583
 * Total Accepted:    165.4K
 * Total Submissions: 200.6K
 * Testcase Example:  '[17,13,11,2,3,5,7]'
 *
 * You are given an integer array deck. There is a deck of cards where every
 * card has a unique integer. The integer on the i^th card is deck[i].
 *
 * You can order the deck in any order you want. Initially, all the cards
 * start face down (unrevealed) in one deck.
 *
 * You will do the following steps repeatedly until all cards are
 * revealed:
 *
 *
 * Take the top card of the deck, reveal it, and take it out of the deck.
 * If there are still cards in the deck then put the next top card of the
 * deck at the bottom of the deck.
 * If there are still unrevealed cards, go back to step 1. Otherwise, stop.
 *
 *
 * Return an ordering of the deck that would reveal the cards in increasing
 * order.
 *
 * Note that the first entry in the answer is considered to be the top of the
 * deck.
 *
 *
 * Example 1:
 *
 *
 * Input: deck = [17,13,11,2,3,5,7]
 * Output: [2,13,3,11,5,17,7]
 * Explanation:
 * We get the deck in the order [17,13,11,2,3,5,7] (this order does not
 * matter), and reorder it.
 * After reordering, the deck starts as [2,13,3,11,5,17,7], where 2 is the
 * top of the deck.
 * We reveal 2, and move 13 to the bottom.  The deck is now [3,11,5,17,7,13].
 * We reveal 3, and move 11 to the bottom.  The deck is now [5,17,7,13,11].
 * We reveal 5, and move 17 to the bottom.  The deck is now [7,13,11,17].
 * We reveal 7, and move 13 to the bottom.  The deck is now [11,17,13].
 * We reveal 11, and move 17 to the bottom.  The deck is now [13,17].
 * We reveal 13, and move 17 to the bottom.  The deck is now [17].
 * We reveal 17.
 * Since all the cards revealed are in increasing order, the answer is
 * correct.
 *
 *
 * Example 2:
 *
 *
 * Input: deck = [1,1000]
 * Output: [1,1000]
 *
 *
 *
 * Constraints:
 *
 *
 * 1 <= deck.length <= 1000
 * 1 <= deck[i] <= 10^6
 * All the values of deck are unique.
 *
 *
 */
struct Solution;
// @lc code=start
use std::collections::VecDeque;
impl Solution {
    pub fn deck_revealed_increasing(mut deck: Vec<i32>) -> Vec<i32> {
        let mut q = (0..deck.len()).collect::<VecDeque<usize>>();
        let mut res = vec![0; deck.len()];
        deck.sort_unstable();
        for n in deck {
            res[q.pop_front().unwrap()] = n;
            if let Some(n) = q.pop_front() {
                q.push_back(n);
            }
        }
        res
    }
}
// @lc code=end

fn main() {
    rust::test_algo(
        Solution::deck_revealed_increasing,
        vec![
            ((vec![17, 13, 11, 2, 3, 5, 7]), vec![2, 13, 3, 11, 5, 17, 7]),
            ((vec![1, 1000]), vec![1, 1000]),
            (
                vec![
                    15, 13, 32, 33, 31, 11, 21, 17, 7, 23, 40, 12, 4, 18, 9, 34, 26, 8, 22, 10,
                ],
                vec![
                    4, 18, 7, 31, 8, 21, 9, 40, 10, 22, 11, 32, 12, 23, 13, 34, 15, 26, 17, 33,
                ],
            ),
            (
                vec![
                    37, 139, 122, 130, 38, 61, 137, 104, 19, 29, 6, 111, 93, 22, 120, 60, 155, 153,
                    44, 5, 79, 23, 103, 94, 134, 26, 145, 133, 136, 40, 66, 27, 131, 18, 143, 102,
                    13, 149, 151, 86, 132, 159, 115, 15, 99, 59, 76, 141, 91, 98, 89, 58, 43, 24,
                    47, 152, 42, 69, 14, 135, 110, 142, 125, 33, 146, 127, 85, 157, 4, 119, 107,
                    36, 90, 147, 138, 51, 158, 25, 150,
                ],
                vec![
                    4, 135, 5, 98, 6, 147, 13, 99, 14, 136, 15, 102, 18, 153, 19, 103, 22, 137, 23,
                    104, 24, 149, 25, 107, 26, 138, 27, 110, 29, 159, 33, 111, 36, 139, 37, 115,
                    38, 150, 40, 119, 42, 141, 43, 120, 44, 155, 47, 122, 51, 142, 58, 125, 59,
                    151, 60, 127, 61, 143, 66, 130, 69, 158, 76, 131, 79, 145, 85, 132, 86, 152,
                    89, 133, 90, 146, 91, 134, 93, 157, 94,
                ],
            ),
            (
                vec![
                    16, 4, 7, 39, 21, 18, 12, 29, 27, 15, 33, 42, 20, 5, 44, 22, 40, 2, 19, 34, 28,
                    37,
                ],
                vec![
                    2, 22, 4, 40, 5, 27, 7, 37, 12, 28, 15, 44, 16, 29, 18, 39, 19, 33, 20, 42, 21,
                    34,
                ],
            ),
            (
                vec![4, 11, 21, 19, 22, 12, 10, 25, 16, 7, 3, 6, 5],
                vec![3, 22, 4, 12, 5, 21, 6, 16, 7, 25, 10, 19, 11],
            ),
            (
                vec![
                    52, 110, 127, 121, 75, 152, 21, 14, 140, 104, 93, 126, 13, 70, 19, 138, 129,
                    148, 95, 28, 135, 194, 37, 163, 182, 50, 171, 43, 34, 61, 167, 175, 8, 92, 117,
                    5, 98, 184, 82, 166, 173, 65, 174, 9, 151, 20, 159, 91, 29, 130, 27, 185, 7,
                    124, 58, 68, 177, 113, 101, 180, 102, 164, 141, 125, 196, 143, 165, 144, 190,
                    74, 59, 192, 41, 139, 79, 179, 160, 42, 142, 84, 4, 30, 178, 170, 131, 73, 78,
                    195, 15, 154, 90, 137, 66, 69, 183, 87, 123, 97,
                ],
                vec![
                    4, 113, 5, 195, 7, 117, 8, 160, 9, 121, 13, 178, 14, 123, 15, 163, 19, 124, 20,
                    185, 21, 125, 27, 164, 28, 126, 29, 179, 30, 127, 34, 165, 37, 129, 41, 194,
                    42, 130, 43, 166, 50, 131, 52, 180, 58, 135, 59, 167, 61, 137, 65, 190, 66,
                    138, 68, 170, 69, 139, 70, 182, 73, 140, 74, 171, 75, 141, 78, 196, 79, 142,
                    82, 173, 84, 143, 87, 183, 90, 144, 91, 174, 92, 148, 93, 192, 95, 151, 97,
                    175, 98, 152, 101, 184, 102, 154, 104, 177, 110, 159,
                ],
            ),
            (
                vec![
                    5, 24, 91, 92, 76, 60, 134, 95, 96, 47, 73, 89, 125, 68, 80, 130, 102, 100, 46,
                    117, 98, 23, 132, 63, 107, 38, 78, 62, 9, 41, 56, 116, 110, 37, 3, 77, 71, 15,
                    30, 131, 99, 4, 126, 115, 31, 28, 103, 74, 87, 40, 124, 133, 13, 12, 83, 94,
                    90, 20, 127, 111, 32, 58, 79, 81, 19, 6, 93,
                ],
                vec![
                    3, 102, 4, 79, 5, 134, 6, 80, 9, 103, 12, 81, 13, 125, 15, 83, 19, 107, 20, 87,
                    23, 131, 24, 89, 28, 110, 30, 90, 31, 126, 32, 91, 37, 111, 38, 92, 40, 133,
                    41, 93, 46, 115, 47, 94, 56, 127, 58, 95, 60, 116, 62, 96, 63, 132, 68, 98, 71,
                    117, 73, 99, 74, 130, 76, 100, 77, 124, 78,
                ],
            ),
            (
                vec![
                    26, 48, 131, 106, 20, 59, 14, 49, 115, 132, 140, 43, 130, 88, 6, 81, 95, 33,
                    110, 65, 112, 78, 125, 5, 61, 143, 118, 69, 77, 136, 10, 89, 120, 11, 90, 126,
                    64, 105, 30, 9, 127, 82, 122, 92, 85, 75, 139, 135, 124, 93, 51, 62, 123, 119,
                    19, 36, 96, 41, 113, 35, 109, 28, 100, 138, 114, 72, 87, 53, 101, 84, 133,
                ],
                vec![
                    5, 119, 6, 89, 9, 131, 10, 90, 11, 120, 14, 92, 19, 143, 20, 93, 26, 122, 28,
                    95, 30, 132, 33, 96, 35, 123, 36, 100, 41, 138, 43, 101, 48, 124, 49, 105, 51,
                    133, 53, 106, 59, 125, 61, 109, 62, 140, 64, 110, 65, 126, 69, 112, 72, 135,
                    75, 113, 77, 127, 78, 114, 81, 139, 82, 115, 84, 130, 85, 118, 87, 136, 88,
                ],
            ),
            (
                vec![
                    128, 110, 33, 131, 117, 20, 3, 76, 2, 47, 66, 144, 91, 77, 50, 107, 64, 34, 13,
                    63, 61, 108, 140, 43, 100, 81, 95, 17, 127, 70, 5, 105, 25, 138, 29, 52, 41,
                    73, 78, 112, 71, 137, 114, 27, 116, 147, 142, 53, 143, 125, 82, 89, 115, 4,
                    155, 145, 30, 69, 31, 23, 42, 104, 88, 19, 36, 93, 111, 103, 54, 135, 18, 72,
                    99, 46, 97, 120, 57, 15,
                ],
                vec![
                    2, 77, 3, 135, 4, 78, 5, 114, 13, 81, 15, 143, 17, 82, 18, 115, 19, 88, 20,
                    137, 23, 89, 25, 116, 27, 91, 29, 155, 30, 93, 31, 117, 33, 95, 34, 138, 36,
                    97, 41, 120, 42, 99, 43, 144, 46, 100, 47, 125, 50, 103, 52, 140, 53, 104, 54,
                    127, 57, 105, 61, 147, 63, 107, 64, 128, 66, 108, 69, 142, 70, 110, 71, 131,
                    72, 111, 73, 145, 76, 112,
                ],
            ),
            (
                vec![
                    144, 125, 123, 47, 119, 33, 141, 117, 130, 9, 31, 71, 26, 76, 73, 74, 48, 87,
                    65, 62, 63, 97, 152, 114, 60, 105, 30, 151, 154, 15, 3, 112, 118, 107, 13, 77,
                    131, 140, 143, 149, 124, 145, 95, 10, 22, 72, 115, 164, 66, 80, 108, 67, 69,
                    134, 35, 4, 39, 98, 158, 29, 42, 110, 5, 128, 57, 104, 61, 36, 17, 103, 78, 32,
                    136, 68, 25, 100, 70, 85, 7, 113, 37,
                ],
                vec![
                    3, 154, 4, 78, 5, 119, 7, 80, 9, 141, 10, 85, 13, 123, 15, 87, 17, 151, 22, 95,
                    25, 124, 26, 97, 29, 143, 30, 98, 31, 125, 32, 100, 33, 164, 35, 103, 36, 128,
                    37, 104, 39, 144, 42, 105, 47, 130, 48, 107, 57, 152, 60, 108, 61, 131, 62,
                    110, 63, 145, 65, 112, 66, 134, 67, 113, 68, 158, 69, 114, 70, 136, 71, 115,
                    72, 149, 73, 117, 74, 140, 76, 118, 77,
                ],
            ),
            (
                vec![
                    182, 11, 17, 33, 134, 62, 172, 34, 18, 158, 29, 115, 3, 93, 69, 4, 48, 41, 7,
                    92, 75, 100, 25, 138, 31, 82, 118, 12, 136, 107, 135, 192, 32, 132, 80, 94, 16,
                    47, 175, 40, 159, 189, 123, 155, 127, 36, 5, 144, 113, 63, 50, 74, 30, 188, 70,
                    6, 98, 49, 79, 164, 143, 43, 103, 90, 117, 154, 72, 97, 183, 44, 61, 160, 39,
                    13, 58, 109, 133, 37, 146, 54, 137, 35, 112, 166, 106, 76, 95, 26, 108, 142,
                    64, 78, 53, 179, 120,
                ],
                vec![
                    3, 134, 4, 90, 5, 159, 6, 92, 7, 135, 11, 93, 12, 179, 13, 94, 16, 136, 17, 95,
                    18, 160, 25, 97, 26, 137, 29, 98, 30, 188, 31, 100, 32, 138, 33, 103, 34, 164,
                    35, 106, 36, 142, 37, 107, 39, 182, 40, 108, 41, 143, 43, 109, 44, 166, 47,
                    112, 48, 144, 49, 113, 50, 192, 53, 115, 54, 146, 58, 117, 61, 172, 62, 118,
                    63, 154, 64, 120, 69, 183, 70, 123, 72, 155, 74, 127, 75, 175, 76, 132, 78,
                    158, 79, 133, 80, 189, 82,
                ],
            ),
            (
                vec![
                    56, 100, 6, 37, 36, 21, 86, 102, 15, 4, 34, 30, 83, 62, 60, 26, 42, 51, 31, 33,
                    29, 44, 69, 82, 8, 61, 63, 20, 58, 12, 38, 48, 84, 80, 27, 5, 49, 75, 35, 107,
                    99, 109, 108, 18, 81, 79, 41, 40, 28, 2, 68, 22, 95, 23,
                ],
                vec![
                    2, 44, 4, 95, 5, 48, 6, 80, 8, 49, 12, 108, 15, 51, 18, 81, 20, 56, 21, 99, 22,
                    58, 23, 82, 26, 60, 27, 107, 28, 61, 29, 83, 30, 62, 31, 100, 33, 63, 34, 84,
                    35, 68, 36, 109, 37, 69, 38, 86, 40, 75, 41, 102, 42, 79,
                ],
            ),
            (
                vec![
                    110, 91, 79, 10, 23, 15, 134, 119, 101, 95, 17, 80, 159, 163, 129, 131, 161,
                    144, 18, 44, 46, 89, 64, 112, 123, 130, 104, 94, 47, 106, 27, 81, 90, 116, 108,
                    35, 57, 55, 117, 85, 2, 5, 37, 151, 99, 86, 78, 124, 24, 43, 66, 121, 87, 61,
                    125, 133, 8, 138, 28, 96, 166, 21, 150, 22, 3, 13, 126, 42, 41, 143, 147, 33,
                    54, 77, 11, 25, 60, 145, 6, 45, 83, 26,
                ],
                vec![
                    2, 83, 3, 161, 5, 85, 6, 123, 8, 86, 10, 143, 11, 87, 13, 124, 15, 89, 17, 151,
                    18, 90, 21, 125, 22, 91, 23, 144, 24, 94, 25, 126, 26, 95, 27, 166, 28, 96, 33,
                    129, 35, 99, 37, 145, 41, 101, 42, 130, 43, 104, 44, 159, 45, 106, 46, 131, 47,
                    108, 54, 147, 55, 110, 57, 133, 60, 112, 61, 163, 64, 116, 66, 134, 77, 117,
                    78, 150, 79, 119, 80, 138, 81, 121,
                ],
            ),
            (
                vec![
                    97, 73, 75, 102, 139, 69, 68, 32, 120, 40, 96, 135, 114, 43, 71, 60, 145, 57,
                    104, 38, 15, 133, 130, 55, 52, 28, 20, 17, 140, 66, 72, 79, 45, 84, 103, 6, 26,
                    137, 56, 4, 67, 116, 119, 5, 54, 10, 64, 112, 33, 76, 8, 90, 123, 146, 3, 152,
                    65, 53, 143, 138, 77, 105, 86, 61, 37, 107, 99, 23, 151, 124, 141, 101, 74, 25,
                    44, 7,
                ],
                vec![
                    3, 73, 4, 114, 5, 74, 6, 143, 7, 75, 8, 116, 10, 76, 15, 138, 17, 77, 20, 119,
                    23, 79, 25, 152, 26, 84, 28, 120, 32, 86, 33, 139, 37, 90, 38, 123, 40, 96, 43,
                    145, 44, 97, 45, 124, 52, 99, 53, 140, 54, 101, 55, 130, 56, 102, 57, 151, 60,
                    103, 61, 133, 64, 104, 65, 141, 66, 105, 67, 135, 68, 107, 69, 146, 71, 112,
                    72, 137,
                ],
            ),
            (
                vec![31, 20, 22, 8, 29, 5, 28, 24, 21, 30, 13, 17, 26, 11, 15],
                vec![5, 28, 8, 22, 11, 30, 13, 24, 15, 29, 17, 26, 20, 31, 21],
            ),
            (
                vec![
                    122, 95, 74, 92, 167, 172, 178, 38, 43, 171, 60, 4, 50, 36, 78, 111, 8, 116,
                    143, 73, 12, 77, 63, 120, 89, 129, 42, 155, 170, 101, 88, 163, 153, 96, 3, 174,
                    37, 137, 34, 177, 59, 147, 161, 144, 149, 110, 66, 125, 126, 17, 133, 10, 71,
                    135, 103, 136, 142, 80, 67, 75, 121, 16, 19, 168, 157, 55, 148, 118, 29, 39,
                    165, 28, 91, 107, 176, 52, 5, 20, 94, 105, 115, 100, 139, 35, 53, 130, 23, 48,
                ],
                vec![
                    3, 96, 4, 139, 5, 100, 8, 163, 10, 101, 12, 142, 16, 103, 17, 176, 19, 105, 20,
                    143, 23, 107, 28, 165, 29, 110, 34, 144, 35, 111, 36, 172, 37, 115, 38, 147,
                    39, 116, 42, 167, 43, 118, 48, 148, 50, 120, 52, 178, 53, 121, 55, 149, 59,
                    122, 60, 168, 63, 125, 66, 153, 67, 126, 71, 174, 73, 129, 74, 155, 75, 130,
                    77, 170, 78, 133, 80, 157, 88, 135, 89, 177, 91, 136, 92, 161, 94, 137, 95,
                    171,
                ],
            ),
            (
                vec![
                    69, 70, 39, 32, 76, 16, 23, 37, 6, 73, 64, 68, 57, 49, 3, 61, 25, 28, 20, 60,
                    13, 62, 43, 55, 26, 2, 9, 44, 4, 34, 22, 40, 31, 65, 35, 47, 12,
                ],
                vec![
                    2, 68, 3, 39, 4, 61, 6, 40, 9, 76, 12, 43, 13, 62, 16, 44, 20, 69, 22, 47, 23,
                    64, 25, 49, 26, 73, 28, 55, 31, 65, 32, 57, 34, 70, 35, 60, 37,
                ],
            ),
            (
                vec![
                    29, 45, 60, 10, 8, 68, 52, 25, 23, 35, 28, 5, 77, 26, 40, 38, 96, 19, 66, 36,
                    11, 31, 12, 44, 63, 7, 94, 70, 37, 73, 81, 9, 15, 98, 80, 61, 74, 50, 41, 79,
                    59, 82, 72, 83, 24, 75, 16, 65, 88,
                ],
                vec![
                    5, 96, 7, 50, 8, 74, 9, 52, 10, 82, 11, 59, 12, 75, 15, 60, 16, 94, 19, 61, 23,
                    77, 24, 63, 25, 83, 26, 65, 28, 79, 29, 66, 31, 98, 35, 68, 36, 80, 37, 70, 38,
                    88, 40, 72, 41, 81, 44, 73, 45,
                ],
            ),
            (
                vec![
                    15, 4, 37, 59, 13, 48, 9, 45, 147, 83, 30, 55, 57, 109, 2, 26, 74, 136, 27, 82,
                    14, 153, 142, 90, 36, 34, 38, 84, 41, 126, 141, 17, 70, 23, 66, 44, 58, 140,
                    148, 116, 98, 80, 77, 78, 25, 64, 114, 121, 155, 110, 28, 46, 104, 97, 89, 88,
                    31, 131, 71, 81, 156, 146, 50, 115, 105, 118, 113, 150, 130, 135, 79, 145, 5,
                    120, 86, 54, 35, 56,
                ],
                vec![
                    2, 79, 4, 141, 5, 80, 9, 118, 13, 81, 14, 148, 15, 82, 17, 120, 23, 83, 25,
                    142, 26, 84, 27, 121, 28, 86, 30, 156, 31, 88, 34, 126, 35, 89, 36, 145, 37,
                    90, 38, 130, 41, 97, 44, 150, 45, 98, 46, 131, 48, 104, 50, 146, 54, 105, 55,
                    135, 56, 109, 57, 155, 58, 110, 59, 136, 64, 113, 66, 147, 70, 114, 71, 140,
                    74, 115, 77, 153, 78, 116,
                ],
            ),
            (vec![3, 4, 7], vec![3, 7, 4]),
            (
                vec![
                    128, 10, 137, 87, 44, 130, 17, 89, 93, 135, 102, 95, 70, 24, 112, 40, 136, 23,
                    52, 113, 57, 64, 42, 84, 50, 3, 114, 20, 2, 72, 74, 51, 22, 90, 100, 35, 88,
                    134, 9, 31, 96, 98, 103, 38, 66, 73, 67, 26, 19, 43, 56, 34, 123, 47, 124, 131,
                    5, 125, 59, 46, 78, 91, 122, 99, 75, 41, 49, 97,
                ],
                vec![
                    2, 72, 3, 100, 5, 73, 9, 137, 10, 74, 17, 102, 19, 75, 20, 125, 22, 78, 23,
                    103, 24, 84, 26, 134, 31, 87, 34, 112, 35, 88, 38, 128, 40, 89, 41, 113, 42,
                    90, 43, 136, 44, 91, 46, 114, 47, 93, 49, 130, 50, 95, 51, 122, 52, 96, 56,
                    135, 57, 97, 59, 123, 64, 98, 66, 131, 67, 99, 70, 124,
                ],
            ),
        ],
        |a, b| a == b,
    )
}
